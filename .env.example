# WakeDock Environment Configuration Template
# Copy this file to .env and configure for your environment

# ===============================
# Application Settings
# ===============================
ENV=production
DEBUG=false
HOST=0.0.0.0
PORT=8000

# Domain configuration
DOMAIN=localhost
PUBLIC_API_URL=http://localhost:8000

# ===============================
# Security
# ===============================
# Generate a secure secret key: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# Generate secure passwords
POSTGRES_PASSWORD=your-secure-postgres-password
REDIS_PASSWORD=your-secure-redis-password
GRAFANA_PASSWORD=your-secure-grafana-password

# ===============================
# Database
# ===============================
DATABASE_URL=postgresql://wakedock:${POSTGRES_PASSWORD}@postgres:5432/wakedock
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# ===============================
# Redis Cache
# ===============================
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
REDIS_CACHE_TTL=3600

# ===============================
# Docker Integration  
# ===============================
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_TLS_VERIFY=false
DOCKER_CERT_PATH=

# ===============================
# Caddy Integration
# ===============================
CADDY_ADMIN_ENDPOINT=http://caddy:2019
CADDY_CONFIG_PATH=/etc/caddy/Caddyfile

# ===============================
# Port Configuration
# ===============================
API_PORT=8000
DASHBOARD_PORT=3000
POSTGRES_PORT=5432
REDIS_PORT=6379
HTTP_PORT=80
HTTPS_PORT=443
CADDY_ADMIN_PORT=2019

# Monitoring (optional)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ===============================
# Monitoring & Logging
# ===============================
# Monitoring credentials (generate hash: caddy hash-password)
MONITORING_USER=admin
MONITORING_PASSWORD_HASH=$2a$14$example-hash-replace-with-real-hash

# Sentry error tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===============================
# Email Configuration (optional)
# ===============================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=true
FROM_EMAIL=noreply@yourdomain.com

# ===============================
# Backup Configuration
# ===============================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# ===============================
# Performance Tuning
# ===============================
# API Workers (recommended: 2 * CPU cores + 1)
API_WORKERS=4
API_WORKER_TIMEOUT=30
API_KEEPALIVE=2

# Database connection pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# Redis connection pool
REDIS_POOL_SIZE=10

# ===============================
# Security Headers
# ===============================
CORS_ALLOW_ORIGINS=["http://localhost:3000", "https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CSRF_PROTECTION=true

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ===============================
# Development Settings
# (only for development environment)
# ===============================
# DEV_RELOAD=true
# DEV_DEBUG=true
# DEV_LOG_LEVEL=DEBUG
